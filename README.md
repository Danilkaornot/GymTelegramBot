# Telegram Бот для отслеживания прогресса тренировок

Этот Telegram-бот создан с использованием `aiogram` для отслеживания прогресса пользователей в силовых тренировках. Бот позволяет пользователям регистрироваться, логировать тренировки, просматривать прогресс и получать напоминания о тренировках. Для хранения данных используется база данных PostgreSQL, а для взаимодействия с ней - ORM SQLAlchemy.

## Структура проекта

```
my_telegram_bot/
├── bot.py                # Главный файл бота
├── database.py           # Настройка подключения к базе данных
├── models.py             # Модели SQLAlchemy для работы с базой данных
├── .env                  # Файл с переменными окружения (API токен, URL базы данных)
├── handlers/             # Обработчики команд и сообщений бота
│   ├── __init__.py       # Импорт обработчиков
│   ├── user_handlers.py  # Обработчики команд пользователя (например, регистрация)
│   ├── training_handlers.py # Обработчики для логирования тренировок
├── middlewares/          # Промежуточные слои (при необходимости)
│   ├── __init__.py
├── utils/                # Вспомогательные функции и утилиты
│   ├── __init__.py
│   ├── helpers.py
├── requirements.txt      # Список зависимостей проекта
├── README.md             # Документация проекта
```

## План разработки

1. **Определение требований**
   - Основные функции бота:
     - Регистрация пользователей.
     - Логирование тренировок (упражнения, вес, количество повторений).
     - Просмотр прогресса.
     - Напоминания о тренировках.

2. **Настройка окружения**
   - Установка зависимостей.
   - Настройка базы данных PostgreSQL.
   - Настройка переменных окружения в файле `.env`.

3. **Создание базы данных**
   - Использование SQLAlchemy для создания и работы с таблицами.
   - Создание моделей для пользователей и тренировок.

4. **Реализация логики бота**
   - Регистрация команд для взаимодействия с ботом (например, `/start`, `/log_workout`).
   - Работа с состояниями и сохранение данных в базе.
   - Обработка ошибок и улучшение UX.

5. **Тестирование**
   - Написание тестов для основных функций бота.
   - Тестирование работы бота с реальными пользователями в группе или канале.

6. **Развертывание**
   - Размещение бота на сервере (например, Heroku или VPS).
   - Автоматизация развертывания (Docker или CI/CD).

## Установка и запуск

### 1. Клонирование репозитория
```bash
git clone https://github.com/username/my_telegram_bot.git
cd my_telegram_bot
```

### 2. Установка зависимостей
Убедитесь, что у вас установлен `Python 3.10+`. Затем установите необходимые зависимости:
```bash
pip install -r requirements.txt
```

### 3. Настройка переменных окружения
Создайте файл `.env` в корневой папке проекта и добавьте следующие переменные:
```
API_TOKEN=Ваш_Telegram_API_Token
DATABASE_URL=postgresql://user:password@localhost/dbname
```

### 4. Инициализация базы данных
Запустите создание таблиц в базе данных:
```bash
python -c "from database import Base, engine; Base.metadata.create_all(engine)"
```

### 5. Запуск бота
Запустите бота с помощью следующей команды:
```bash
python bot.py
```

## Основные используемые технологии

- **aiogram** - Асинхронный фреймворк для создания Telegram-ботов.
- **PostgreSQL** - Реляционная база данных для хранения информации о пользователях и тренировках.
- **SQLAlchemy** - ORM для взаимодействия с базой данных.
- **python-dotenv** - Для работы с переменными окружения из файла `.env`.
